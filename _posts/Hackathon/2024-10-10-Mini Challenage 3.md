---
title: "[Hackathon] Mini Challenge 3 회고"

categories:
  - Hackathon
tags:
  - [Hackathon]

date: 2024-10-22
last_modified_at: 2024-10-22
---

> 안녕하세요, 진토입니다. 날이 추워지는 10월의 중순입니다. 건강 잘 챙기세요.<br>
자, 그럼 MC3 시작하겠습니다.
> 

# 🌱 MC3 (2024.7.1-8.16)

### 1. 기획 - 준비 가아아아아아아알 완료

MC3는 주어진 빅 아이디어 중 **환경**을 선택하며 시작하였다. <br>

“우리를 포함한 사람들이 환경에 대해 얼마나 신경쓰고 있을까?”<br>

“우리의 삶 속에서 환경에 영향을 미치는 행동에는 무엇이 있을까”<br>

“우리가 파괴한 환경으로 인해 우리에게 돌아오는 피해에는 무엇이 있을까”<br>

환경을 두고 평소 우리가 관심을 가져왔던 질문들이 쏟아졌다.
그 중 우리가 환경에 미치는 영향에 모두 공감하였고 **“일상생활에서 아무런 생각없이 행해지고 있는 환경오염을 방지하자!”** 라는 챌린지가 탄생하게 되었다. 다음으로 일상 속 환경오염에 대해 조사하던 중 한 영상을 보게 되었다.<br><br>
KBS 환경스페셜 - [옷을 위한 지구는 없다 (2021.07.01 방송)](https://www.youtube.com/watch?v=gw5PdqOiodU&t=337s)<br><br>
해당 영상을 보고는 머리를 한대 맞은 듯 띵한 느낌을 받았다. 가나로 흘러가 강을 이루고 있는 폐의류 중에는 분명 우리의 옷도 있을 것이라는 생각이 들었다. 우리는 **“국내에서 수거되는 헌옷의 재활용률이 너무 낮아 개발도상국에 감당 불가능한 양의 헌옷으로 수출되고 제대로 처리되지 않아 환경 오염을 일으킨다”** 라는 문제를 설정하였고 헌옷을 생산하지 않는 솔루션을 도출하기 위해 인터뷰와 조사를 진행하였다.<br>

인터뷰의 내용은 꽤 흥미로웠다. 옷을 자주 구매하는 사람들 중 구매했던 의류와 비슷한 의류를 추가 구매하는 사람들이 다수 존재했다. 이유는 옷을 자주 구매하여 지나치게 많은 의류를 보유하게 돼 본인이 어떤 옷이 있고 없는 지를 제대로 파악하지 못하기 때문이었다. 구매하지 않아도 되는 옷을 구매하고 또 쉽게 버려지는 현재 상황을 해결하기 위해 **보유한 의류를 스마트폰으로 쉽게 데이터화**하는 서비스를 구상하였다.

### 2. 디자인 - 어려운 것을 쉽게.

내 손 안의 옷장을 만들고 싶었다.
<p align="center">
<img src="https://github.com/user-attachments/assets/367511b3-cfbc-43bd-b3db-67ebc921a7b5" align="center" width="32%">
<img src="https://github.com/user-attachments/assets/ba562c0c-e135-4382-a9b8-9655661bd990" align="center" width="32%">
</p>
<br>
가장 중요한 건 보유한 의류를 어떤 방식으로 등록하게 해야 사용자에게 큰 부담으로 느껴지지 않을까였다. 실제 옷장 속 의류들을 하나하나 손으로 입력하게 하는 것은 무리가 있다고 생각이 들었다. 우리는 이를 해결하기 위해 의류를 등록할 때 옷에 대한 정보를 손으로 입력하는 것 대신 음성인식을 사용하여 정보를 수집하고 ML을 사용하여 각 항목 별로 분류되어 자동 입력되게 했다.<br>

두 번째로는 많은 의류들을 한 눈에 보기 쉽게 정렬하는 것이었다. 기본적으로는 의류 이미지를 크게 두어 어떤 의류인지를 파악할 수 있게 하였고 정렬 방식을 변경할 수 있게하여 의류 이미지 뿐 아니라 정보도 한 눈에 볼 수 있게 하였다. <br>

세 번째로는 앱 안에서 날씨를 확인할 수 있게 하였다. 옷장을 열고 닫으며 입고 나갈 옷을 찾고 창문을 열고 닫으며 날씨를 확인하는 소요를 없애고 앱 안에서 옷을 확인하고 날씨까지도 간편하게 확인할 수 있게 하였다.<br>

마지막으로는 검색 기능을 제공하는 것이었다. 등록된 의류를 카테고리 별로 확인할 수 있었지만 아무래도 등록한 의류가 많아질수록 스크롤을 통해 확인하는 것은 불편하기 때문에 검색 기능은 필수로 넣어야겠다는 생각이 있었다.

### 3. 개발 - 무신사에서 산 30,000원짜리 짱짱한 아이보리 티셔츠

앱의 주요 기능은 총 3가지였다.

1. `의류를 등록하는 기능`
2. `등록한 의류를 보여주는 기능`
3. `의류를 선택하여 저장하는 기능`

나는 이번 기회에 ML을 사용해보고 싶어 `의류를 등록하는 기능`을 맡아 개발하였다.
의류를 등록하는 과정은 크게 두가지로 나누어 구현했다.<br>

첫 번째, 카메라를 이용해 의류를 촬영한다. 촬영된 의류는 배경이 자동으로 제거된다.<br>
두 번째, 버튼을 눌러 의류에 대한 정보를 음성으로 입력하여 저장한다.<br>

촬영된 의류의 배경을 제거하기 위해서 `Vision`과 `Core Image` 프레임워크를 사용했다. `VNGenerateForegroundInstanceMaskRequest`를 생성하여 원본 이미지에서 `Subject`를 감지하고 마스크를 생성한다. `CIFilter.blendWithMask()` 필터를 사용하여 원본 이미지와 마스크를 결합한다. 배경으로 비어있는 이미지를 사용하여 배경이 제거된 최종 이미지를 반환한다. <br>

음성으로 정보를 입력하기 위해 `Speech`와 `AVFoundation` 프레임워크를 사용해 STT를 구현하였다. STT를 통해 **연속적인 문장의 형태**로 수집한 의류 정보를 **항목 별로 분리된 단어의 형태**로 변환해야했다. 이 부분에서 ML을 사용하였다. 정규식을 사용해 구현할 수도 있었지만 이 기회에 애플 생태계의 ML도 사용해보고 좀 더 유연한 결과를 얻기 위해 ML을 사용하게 되었다.<br>
<img src="https://github.com/user-attachments/assets/10ca3140-7bb3-4772-96eb-d5e17c95ee6f" align="center" width="600">
<br>
Mac으로 개발을 하고있다면 ML 모델을 직접 학습시킬 수 있는 `CreateML`이 이미 설치되어 있을 것이다. 보시다시피 다양한 ML 모델을 만들 수 있는데 이 경우에는 `Word Tagging`을 사용할 것이다. 단순히 **“무신사에서 산 30,000원짜리 짱짱한 아이보리 티셔츠”** 라고 말하면 자동으로 구매처, 가격, 특징, 색상을 분류할 수 있다. `Word Tagging`은 이처럼 자연어 텍스트를 단어 수준에서 분류하도록 훈련된 머신 러닝 모델이다. 해당 모델을 학습시키기 위해서는 token과 label이 일대일 매칭된 아래와 같은 Train Data가 필요하다.

```swift
[
  {"tokens": ["나이키에서", "산", "30,000원짜리", "짱짱한", "검정색", "후드티"], "labels": ["BRD", "NONE", "PRC", "ADJ", "COL", "ITEM"]},
  {"tokens": ["아디다스에서", "산", "29,900원짜리", "시원한", "아이보리", "반팔"], "labels": ["BRD", "NONE", "PRC", "ADJ", "COL", "ITEM"]},
  {"tokens": ["유니클로에서", "산", "59,000원짜리", "멋있는", "흰색", "양말"], "labels": ["BRD", "NONE", "PRC", "ADJ", "COL", "ITEM"]},
  {"tokens": ["자라에서", "산", "45,000원짜리", "편안한", "네이비", "셔츠"], "labels": ["BRD", "NONE", "PRC", "ADJ", "COL", "ITEM"]}
]
```

이렇게 학습시킨 모델을 사용하여 STT로 수집한 음성 데이터를 자동으로 항목 별로 분류할 수 있게 된다. 처음이라 어려울 것 같았지만 공식 문서만 읽어보아도 어렵지 않게 수행할 수 있었다. 생각보다 다양한 모델을 지원하고 있기 때문에 여러 상황에 맞는 모델을 선택적으로 사용할 수 있을 것 같다.

### 4. 결과 - 이보 전진을 위한 일보 후퇴?
<img src="https://github.com/user-attachments/assets/3d45b1e8-f46d-48a4-96e8-c2aa0d2e5c4f" align="center" width="32%">
<br>
이번 챌린지는 기획부분에서 팀원들과 많은 논의를 거쳤다. 아무래도 **선진국 의류 쓰레기를 개발도상국으로 넘긴다**는 것에서 솔루션을 탐색하다보니 스케일을 너무 크게만 생각하게 되었다. 과연 우리가 진짜 해결할 수 있는 것일까 하는 생각도 많이 들었다. 그렇게 논의를 이어가다 개개인이 행하고 있는 폐의류 생산을 막되 이를 거시적인 단위로 이끌면 진정 문제를 해결할 수 있지 않을까에 다다르게 되었고 **내 손 안의 옷장**과 같은 서비스가 탄생하게 되었다.<br>

서비스를 완성하고 나니 옷장을 스마트폰으로 옮긴 것에 불과했다. 이런 서비스가 필요했던 사람들이 분명 있을 것이라고 생각한다. 하지만 우리는 단순히 옷장을 만들기 위해 시작했던 것이 아닌 환경을 빅 아이디어로 조금은 문제를 해결하고자 하였지만 결과물은 전혀 환경을 담고 있지 않았다.<br>

우리는 이에 좌절하지 않고 완성된 결과물 안에서 환경을 담고자 하였다. 예를 들자면 사람들의 물품 기증을 통해 저렴한 가격에 물건을 되파는 굿윌스토어라는 곳이 있는데 이 곳은 50L 2봉지 또는 3박스 이상의 물품을 기증하게 되면 방문 수거가 가능하다. 우리 앱을 사용하다 버리고자 하는 옷을 따로 체크하여 적정량이 되었을 때 자동으로 방문 수거를 신청하는 기능을 포함하므로서 환경을 함께 할 수 있을 것이다.<br>

결과적으로는 많은 것을 얻었던 챌린지였다. 기획적으로는 회고의 중요성도 깨달았고 기술적으로는 처음으로 ML을 사용해 코드를 짜봤다. 여느때와 같이 함께 이겨내준 팀원들에게 감사를 돌린다.

### 5. 이후 - 새로운 시작

`Vision`과 `Core Image` 프레임워크를 사용하여 이미지의 배경을 제거하는 기술이 너무 매력적이었다. 사물을 인식하는 정확도도 높아 활용하기 위한 아이디어가 마구마구 샘솟았다.
